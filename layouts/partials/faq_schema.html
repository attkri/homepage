{{- $faqs := .Params.faqs -}}
{{- if and $faqs (gt (len $faqs) 0) -}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {{- range $index, $item := $faqs -}}
    {{- if $index }},{{ end }}
    {
      "@type": "Question",
      "name": {{ ($item.question | default "") | plainify | jsonify }},
      "acceptedAnswer": {
        "@type": "Answer",
        "text": {{ ($item.answer | default "") | plainify | jsonify }}
      }
    }
    {{- end -}}
  ]
}
</script>
{{- end -}}
